CREATE TABLE `ezrpt_member_event` ( `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '日志标识', `source` varchar(100) NOT NULL COMMENT '日志来源',`user_id` int(11) NOT NULL COMMENT '操作用户id',`account` varchar(50) NOT NULL COMMENT '操作用户账号',`level` varchar(10) NOT NULL COMMENT '日志级别',`message` text NOT NULL COMMENT '日志信息',`url` varchar(255) NOT NULL COMMENT 'url',`gmt_created` timestamp NOT NULL DEFAULT '2014-01-01 01:01:01' COMMENT '日志发生的时间',PRIMARY KEY (`id`)) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8;
CREATE TABLE `ezrpt_member_user` (`id` int(11) NOT NULL AUTO_INCREMENT COMMENT '系统用户标识',`roles` varchar(500) NOT NULL COMMENT '系统用户所属角色集合(role_id以英文逗号分隔)',`account` varchar(64) NOT NULL COMMENT '系统用户账号',`password` varchar(64) NOT NULL COMMENT '系统用户密码',`salt` varchar(50) NOT NULL COMMENT '加盐',`name` varchar(50) NOT NULL COMMENT '系统用户姓名',`email` varchar(64) NOT NULL COMMENT '系统用户电子邮箱',`telephone` varchar(36) NOT NULL COMMENT '系统用户用户电话号码,多个用英文逗号分开',`status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '系统用户的状态,1表示启用,0表示禁用,默认为1,其他保留',`comment` varchar(50) NOT NULL COMMENT '系统用户备注',`gmt_created` timestamp NOT NULL DEFAULT '2014-01-01 01:01:01' COMMENT '系统用户记录创建时间',`gmt_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '系统用户记录更新时间戳',PRIMARY KEY (`id`),UNIQUE KEY `uk_user_account` (`account`),UNIQUE KEY `uk_user_email` (`email`)) ENGINE=InnoDB AUTO_INCREMENT=6 DEFAULT CHARSET=utf8;
CREATE TABLE `ezrpt_member_role` (  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '系统角色标识',  `modules` varchar(1000) NOT NULL COMMENT '系统角色所拥有的模块集合(module_id以英文逗号分隔)',  `permissions` varchar(1000) NOT NULL COMMENT '系统角色所拥有的操作集合(permission_id以英文逗号分隔)',  `name` varchar(50) NOT NULL COMMENT '系统角色名称',  `code` varchar(50) NOT NULL DEFAULT '' COMMENT '系统角色英语名',  `is_system` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否为系统角色,1表示是，0表示否,默认为0',  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '系统角色的状态,1表示启用,0表示禁用,默认为1,其他保留',  `sequence` int(11) NOT NULL COMMENT '系统角色的排序顺序',  `comment` varchar(50) NOT NULL COMMENT '系统角色备注',  `create_user` varchar(64) NOT NULL COMMENT '创建用户',  `gmt_created` timestamp NOT NULL DEFAULT '2014-01-01 01:01:01' COMMENT '系统角色记录创建时间',  `gmt_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '系统角色记录更新时间戳',  PRIMARY KEY (`id`),  UNIQUE KEY `uk_role_code` (`code`),  UNIQUE KEY `uk_role_name` (`name`)) ENGINE=InnoDB AUTO_INCREMENT=24 DEFAULT CHARSET=utf8;
CREATE TABLE `ezrpt_member_permission` (  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '系统操作标识',  `module_id` int(11) NOT NULL COMMENT '系统模块标识',  `name` varchar(50) NOT NULL COMMENT '系统操作名称',  `code` varchar(50) NOT NULL COMMENT '系统操作唯一代号',  `sequence` int(11) NOT NULL COMMENT '系统操作的排序顺序',  `comment` varchar(50) NOT NULL COMMENT '系统操作备注',  `gmt_created` timestamp NOT NULL DEFAULT '2014-01-01 01:01:01' COMMENT '系统操作记录创建时间',  `gmt_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '系统操作记录更新时间戳',  PRIMARY KEY (`id`),  UNIQUE KEY `uk_permisson_code` (`code`)) ENGINE=InnoDB AUTO_INCREMENT=80 DEFAULT CHARSET=utf8;
CREATE TABLE `ezrpt_member_module` (  `id` int(11) NOT NULL AUTO_INCREMENT COMMENT '系统模块标识',  `parent_id` int(11) NOT NULL COMMENT '系统模块父标识',  `name` varchar(50) NOT NULL COMMENT '系统模块父标识',  `code` varchar(50) NOT NULL COMMENT '系统模块代号',  `icon` varchar(100) NOT NULL COMMENT '系统模块显示图标',  `url` varchar(100) NOT NULL COMMENT '系统模块对应的页面地址',  `path` varchar(200) NOT NULL COMMENT '从根模块到当前子模块的id路径，id之间用逗号分隔',  `has_child` tinyint(4) NOT NULL DEFAULT '0' COMMENT '是否存在子模块,0否,1 是',  `link_type` tinyint(4) NOT NULL DEFAULT '0' COMMENT 'URL链接类型(0表示系统内部，1表示外部链接，默认 0)',  `target` varchar(20) NOT NULL COMMENT 'URL链接的target(_blank,_top等)',  `params` varchar(200) NOT NULL COMMENT 'URL链接参数',  `sequence` int(11) NOT NULL COMMENT '系统模块在当前父模块下的排序顺序',  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '系统模块的状态,1表示启用,0表示禁用,默认为1,其他保留',  `comment` varchar(50) NOT NULL COMMENT '系统模块备注',  `gmt_created` timestamp NOT NULL DEFAULT '2014-01-01 01:01:01' COMMENT '系统模块记录创建时间',  `gmt_modified` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP COMMENT '系统模块记录更新时间戳',  PRIMARY KEY (`id`),  UNIQUE KEY `uk_module_code` (`code`),  UNIQUE KEY `uk_module_parent_id_name` (`parent_id`,`name`)) ENGINE=InnoDB AUTO_INCREMENT=55 DEFAULT CHARSET=utf8;
